!function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,a=arguments;null===n&&(n=setTimeout(function(){t.apply(i,a),n=null},e))}}var a,r,s=(a={},function(t){if(a[t]!==n)return a[t];var e=document.createElement("div").style,i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" ");for(var s in r)if(r[s]in e)return a[t]=r[s];return a[t]=!1}),o="http://www.w3.org/2000/svg",l=function(){if(r!==n)return r;var t=document.createElement("div");return t.innerHTML="<svg/>",r=t.firstChild&&t.firstChild.namespaceURI===o},c=t(e),u=s("transform"),f={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},p={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},v=new RegExp("\\b("+p.itemCurrent+"|"+p.itemPast+"|"+p.itemFuture+")(.*?)(\\s|$)","g"),h=new RegExp("\\s\\s+","g");t.fn.flipster=function(e){if("string"==typeof e){var a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("methods");return n[e]?n[e].apply(this,a):this})}var r=t.extend({},f,e);return this.each(function(){var e,a,s,f,d,m,g,_,y,b=t(this),x=[],w=0,C=!1,k=!1;function I(e){return e=e||"next",t('<button class="'+p.button+" "+("next"===e?p.buttonNext:p.buttonPrev)+'" role="button" />').html((n=e,i="next"===n?r.buttonNext:r.buttonPrev,"custom"!==r.buttons&&l?'<svg viewBox="0 0 13 20" xmlns="'+o+'" aria-labelledby="title"><title>'+i+'</title><polyline points="10,3 3,10 10,17"'+("next"===n?' transform="rotate(180 6.5,10)"':"")+"/></svg>":i)).on("click",function(t){E(e),t.preventDefault()});var n,i}function P(){b.css("transition",""),a.css("transition",""),d.css("transition","")}function L(e){var n,i;e&&(b.css("transition","none"),a.css("transition","none"),d.css("transition","none")),s=a.width(),a.height((i=0,d.each(function(){(n=t(this).height())>i&&(i=n)}),i)),s?(f&&(clearInterval(f),f=!1),d.each(function(n){var i,a,o=t(this);o.attr("class",function(t,e){return e&&e.replace(v,"").replace(h," ")}),i=o.outerWidth(),0!==r.spacing&&o.css("margin-right",i*r.spacing+"px"),a=o.position().left,x[n]=-1*(a+i/2-s/2),n===d.length-1&&(D(),e&&setTimeout(P,1))})):f=f||setInterval(function(){L(e)},500)}function D(){var e,i,o,l=d.length;d.each(function(n){e=t(this),i=" ",n===w?(i+=p.itemCurrent,o=l+1):n<w?(i+=p.itemPast+" "+p.itemPast+"-"+(w-n),o=l-(w-n)):(i+=p.itemFuture+" "+p.itemFuture+"-"+(n-w),o=l-(n-w)),e.css("z-index",o).attr("class",function(t,e){return e&&e.replace(v,"").replace(h," ")+i})}),w>=0&&(s&&x[w]!==n||L(!0),u?a.css("transform","translateX("+x[w]+"px)"):a.css({left:x[w]+"px"})),function(){if(r.nav){var e=m.data("flip-category");_.removeClass(p.navCurrent),y.filter(function(){return t(this).data("index")===w||e&&t(this).data("category")===e}).parent().addClass(p.navCurrent)}}()}function E(t){var e=w;if(!(d.length<=1))return"prev"===t?w>0?w--:r.loop&&(w=d.length-1):"next"===t?w<d.length-1?w++:r.loop&&(w=0):"number"==typeof t?w=t:t!==n&&(w=d.index(t),r.loop&&e!=w&&(e==d.length-1&&w!=d.length-2&&(w=0),0==e&&1!=w&&(w=d.length-1))),m=d.eq(w),w!==e&&r.onItemSwitch&&r.onItemSwitch.call(b,d[w],d[e]),D(),b}function M(t){return r.autoplay=t||r.autoplay,clearInterval(C),C=setInterval(function(){var t=w;E("next"),t!==w||r.loop||clearInterval(C)},r.autoplay),b}function T(){return clearInterval(C),C=0,b}function X(t){return T(),r.autoplay&&t&&(C=-1),b}function j(){L(!0),b.hide().css("visibility","").addClass(p.active).fadeIn(r.fadeIn)}function N(){var e;if(a=b.find(r.itemContainer).addClass(p.container),!((d=a.find(r.itemSelector)).length<=1))return d.addClass(p.item).each(function(){var e=t(this);e.children("."+p.itemContent).length||e.wrapInner('<div class="'+p.itemContent+'" />')}),r.click&&d.on("click.flipster touchend.flipster",function(e){k||(t(this).hasClass(p.itemCurrent)||e.preventDefault(),E(this))}),r.buttons&&d.length>1&&(b.find("."+p.button).remove(),b.append(I("prev"),I("next"))),e={},!r.nav||d.length<=1||(g&&g.remove(),g=t('<ul class="'+p.nav+'" role="navigation" />'),y=t(""),d.each(function(n){var i=t(this),a=i.data("flip-category"),r=i.data("flip-title")||i.attr("title")||n,s=t('<a href="#" class="'+p.navLink+'">'+r+"</a>").data("index",n);if(y=y.add(s),a){if(!e[a]){var o=t('<li class="'+p.navItem+" "+p.navCategory+'">'),l=t('<a href="#" class="'+p.navLink+" "+p.navCategoryLink+'" data-flip-category="'+a+'">'+a+"</a>").data("category",a).data("index",n);e[a]=t('<ul class="'+p.navChild+'" />'),y=y.add(l),o.append(l,e[a]).appendTo(g)}e[a].append(s)}else g.append(s);s.wrap('<li class="'+p.navItem+'">')}),g.on("click","a",function(e){var n=t(this).data("index");n>=0&&(E(n),e.preventDefault())}),"after"===r.nav?b.append(g):b.prepend(g),_=g.find("."+p.navItem)),w>=0&&E(w),b}e={jump:E,next:function(){return E("next")},prev:function(){return E("prev")},play:M,stop:T,pause:X,index:N},b.data("methods",e),b.hasClass(p.active)||function(){var t;if(b.css("visibility","hidden"),N(),d.length<=1)b.css("visibility","");else{t=!!r.style&&"flipster--"+r.style.split(" ").join(" flipster--"),b.addClass([p.main,u?"flipster--transform":" flipster--no-transform",t,r.click?"flipster--click":""].join(" ")),r.start&&(w="center"===r.start?Math.floor(d.length/2):r.start),E(w);var e,n,s,o,l,f,v,h,m=b.find("img");if(m.length){var g=0;m.on("load",function(){++g>=m.length&&j()}),setTimeout(j,750)}else j();c.on("resize.flipster",i(L,400)),r.autoplay&&M(),r.pauseOnHover&&a.on("mouseenter.flipster",function(){C?X(!0):T()}).on("mouseleave.flipster",function(){-1===C&&M()}),e=b,r.keyboard&&(e[0].tabIndex=0,e.on("keydown.flipster",i(function(t){var e=t.which;37!==e&&39!==e||(E(37===e?"prev":"next"),t.preventDefault())},250))),function(t){if(r.scrollwheel){var e,n,a=!1,s=0,o=0,l=0,u=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());t.on("mousewheel.flipster wheel.flipster",function(){a=!0}).on("mousewheel.flipster wheel.flipster",i(function(t){clearTimeout(o),o=setTimeout(function(){s=0,l=0},300),t=t.originalEvent,l+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(l)<25&&!u||(s++,n!==(e=l>0?"prev":"next")&&(s=0),n=e,(s<6||s%3==0)&&E(e),l=0)},50)),c.on("mousewheel.flipster wheel.flipster",function(t){a&&(t.preventDefault(),a=!1)})}}(a),n=a,r.touch&&n.on({"touchstart.flipster":function(t){t=t.originalEvent,s=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY},"touchmove.flipster":function(t){t=t.originalEvent,l=t.touches?t.touches[0].clientX:t.clientX,f=t.touches?t.touches[0].clientY:t.clientY,h=l-s,v=f-o,Math.abs(h)>30&&Math.abs(v)<100&&t.preventDefault()},"touchend.flipster touchcancel.flipster ":function(){h=l-s,v=f-o,Math.abs(h)>30&&Math.abs(v)<100&&E(h>0?"prev":"next")}})}}()})}}(jQuery,window);