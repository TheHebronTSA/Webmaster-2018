!function(e){function n(n){var i={timelineContainer:n.timelineContainer||"#timeline",timelineSection:n.timelineSection||".timeline-wrapper",timelineSectionMarker:n.timelineSectionMarker||".timeline-time",timelineTriggerContainer:n.timelineTriggerContainer||".timeline-series",timelineTriggerAnchor:n.timelineTriggerAnchor||".timeline-event",timelineEventContainer:n.timelineEventContainer||"dt",timelineEXContent:n.timelineEXContent||".timeline-event-content",EXContentIdSuffix:n.timelineEXContentSuffix||"EX",oneOpen:n.oneOpen||!1,startState:n.startState||"closed",startOpen:n.startOpen||[".start-open"],baseSpeed:n.baseSpeed||200,speed:n.speed||4,fontOpen:n.fontOpen||"1.2em",fontClosed:n.fontClosed||"1em",expandAllText:n.expandAllText||"+ expand all",collapseAllText:n.collapseAllText||"- collapse all"};function t(n){e.each(n,function(n,t){e(t).parents(i.timelineTriggerContainer).show(i.speed*i.baseSpeed,function(){l(e(t),e(t).next(i.timelineEXContent))})})}function l(n,t){"flat"===i.startState&&e(n).parents(i.timelineTriggerContainer).show(),e(n).find("a").removeClass("closed").addClass("open").animate({fontSize:i.fontOpen},i.baseSpeed),e(t).show(i.speed*i.baseSpeed)}function r(n,t){e(n).find("a").animate({fontSize:i.fontClosed},0).removeClass("open").addClass("closed"),e(t).hide(i.speed*i.baseSpeed)}if(!e(i.timelineContainer).data("started")){e(i.timelineContainer).data("started",!0),e(i.timelineContainer+" .timeline-toggle").html(i.expandAllText),e(i.timelineContainer+" .collapseAll").html(i.collapseAllText),"flat"===i.startState?(e(i.timelineContainer+" "+i.timelineTriggerContainer).hide(),t(e(i.startOpen))):"closed"===i.startState?(e(i.timelineContainer+" "+i.timelineEXContent).hide(),t(e(i.startOpen))):l(e(i.timelineContainer+" "+i.timelineTriggerContainer+" "+i.timelineTriggerAnchor),e(i.timelineContainer+" "+i.timelineEXContent)),e(i.timelineContainer).on("click",i.timelineTriggerContainer+" "+i.timelineEventContainer,function(){var n=e(this).attr("id");e(this).find("a").is(".open")?r(e(this),e("#"+n+i.EXContentIdSuffix)):(1==i.oneOpen&&r(e(this).parents(i.timelineContainer).find(i.timelineTriggerAnchor,i.timelineTriggerContainer),e(this).parents(i.timelineContainer).find(i.timelineEXContent)),l(e(this),e("#"+n+i.EXContentIdSuffix)))}),e(i.timelineContainer).on("click",i.timelineSectionMarker,function(){var n=e(this).parents(i.timelineSection).find(i.timelineTriggerContainer).length,t=e(this).parents(i.timelineSection).find(".open").length;1==i.oneOpen&&r(e(this).parents(i.timelineContainer).find(i.timelineTriggerAnchor,i.timelineTriggerContainer),e(this).parents(i.timelineContainer).find(i.timelineEXContent)),n>t?l(e(this).parents(i.timelineSection).find(i.timelineTriggerAnchor,i.timelineTriggerContainer),e(this).parents(i.timelineSection).find(i.timelineEXContent)):r(e(this).parents(i.timelineSection).find(i.timelineTriggerContainer),e(this).parents(i.timelineSection).find(i.timelineEXContent))});var o=i.timelineContainer+" .timeline-toggle";e(o).click(function(){e(o).hasClass("expanded")?(r(e(o).parents(i.timelineContainer).find(i.timelineTriggerAnchor,i.timelineTriggerContainer),e(o).parents(i.timelineContainer).find(i.timelineEXContent)),e(o).removeClass("expanded").html(i.expandAllText)):(l(e(o).parents(i.timelineContainer).find(i.timelineTriggerAnchor,i.timelineTriggerContainer),e(o).parents(i.timelineContainer).find(i.timelineEXContent)),e(o).addClass("expanded").html(i.collapseAllText))})}}e.timeliner=function(i){null==e.timeliners?(e.timeliners={options:[]},e.timeliners.options.push(i)):e.timeliners.options.push(i),e(document).ready(function(){for(var i=0;i<e.timeliners.options.length;i++)n(e.timeliners.options[i])})}}(jQuery);